= Collection

== Intro

=== Collection

[.step]
* A data structure that allows you to store objects in a convenient way
* Contains a set of methods for manipulating data
* All collections are objects
* Cannot store primitive data types

=== Collection Hierarchy

image::/assets/img/java/basic/collection/java-collection-hierarchy.png[Java Collection Hierarchy]

=== Map Hierarchy

image::/assets/img/java/basic/collection/java-map-hierarchy.png[Java Map Hierarchy]

=== Implements Collection

[.step]
* *Java Collection Framework*
* *Guava* (Google Collection Library)
* *Trove library* (primitive JCF)
* *PCJ* (Primitive Collections for Java)
* *Custom collection* (not recommend)

=== Deprecated Classes

* `Enumeration`
* `Vector`
* `Stack`
* `Dictionary`
* `Hashtable`

== Interface `Collection`

=== Interface `Collection<E>`

[source,java]
----
public interface Collection<E> extends Iterable<E> {
    // определения методов
}
----

=== Methods

* `boolean add(E item)`
* `boolean addAll(Collection<? extends E> col)`
* `void clear()`
* `boolean contains(Object item)`
* `boolean isEmpty()`
* `Iterator<E> iterator()`
* `boolean remove(Object item)`
* `boolean removeAll(Collection<?> col)`
* `boolean retainAll(Collection<?> col)`
* `int size()`
* `Object[] toArray()`

== Interface `List`

=== Methods

* `void add(int index, E obj)`
* `boolean addAll(int index, Collection<? extends E> col)`
* `E get(int index)`
* `int indexOf(Object obj)`
* `int lastIndexOf(Object obj)`
* `ListIterator<E> listIterator ()`
* `static <E> List<E> of(элементы)`
* `E remove(int index)`
* `E set(int index, E obj)`
* `void sort(Comparator<? super E> comp)`
* `List<E> subList(int start, int end)`

== Class `ArrayList`

=== Constructors

* `ArrayList()`
* `ArrayList(Collection <? extends E> col)`
* `ArrayList (int capacity)`

=== Example

[source,java]
----
import java.util.ArrayList;
import java.util.Iterator;

class ArrayListExample {
    public static void main(String args[]) {
        ArrayList<String> list = new ArrayList<String>();
        list.add("Ravi");
        list.add("Vijay");
        list.add("Ravi");
        list.add("Ajay");

        Iterator itr = list.iterator();
        while (itr.hasNext()) {
            System.out.println(itr.next());
        }
    }
}
----

== Interface `Queue`

=== Methods

* `E element()`
* `boolean offer(E obj)`
* `E peek()`
* `E poll()`
* `E remove()`

== Interface `Deque`

=== Methods

* `void addFirst(E obj)`
* `void addLast(E obj)`
* `E getFirst()`
* `E getLast()`
* `boolean offerFirst(E obj)`
* `boolean offerLast(E obj)`
* `E peekFirst()`
* `E peekLast()`
* `E pollFirst()`
* `E pollLast()`
* `E pop()`
* `void push(E element)`
* `E removeFirst()`
* `E removeLast()`
* `boolean removeFirstOccurrence(Object obj)`
* `boolean removeLastOccurrence(Object obj)`

== Class `ArrayDeque`

=== Constructors

* `ArrayDeque()`
* `ArrayDeque(Collection<? extends E> col)`
* `ArrayDeque(int capacity)` default: 16

=== Example

[source,java]
----
import java.util.ArrayDeque;
import java.util.Deque;

public class ArrayDequeExample {
    public static void main(String[] args) {
        Deque<String> deque = new ArrayDeque<String>();
        deque.add("Ravi");
        deque.add("Vijay");
        deque.add("Ajay");
        for (String str : deque) {
            System.out.println(str);
        }
    }
}  
----

== Class `LinkedList`

=== Constructors

* `LinkedList()`
* `LinkedList(Collection<? extends E> col)`

== Interface `Set`

== Class `HashSet`

=== Constructors

* `HashSet()`
* `HashSet(Collection<? extends E> col)`
* `HashSet(int capacity)` default 16
* `HashSet(int capacity, float koef)` koef [0.0; 1.0]

=== Example

[source,java]
----
import java.util.HashSet;
import java.util.Iterator;

class HashSetExample {
    public static void main(String args[]) {
        HashSet<String> set = new HashSet<String>();
        set.add("Ravi");
        set.add("Vijay");
        set.add("Ravi");
        set.add("Ajay");
        Iterator<String> itr = set.iterator();
        while (itr.hasNext()) {
            System.out.println(itr.next());
        }
    }
}  
----

== Interface `SortedSet`

=== Methods

* `E first()`
* `E last()`
* `SortedSet<E> headSet(E end)`
* `SortedSet<E> subSet(E start, E end)`
* `SortedSet<E> tailSet(E start)`

== Interface `NavigadleSet`

=== Methods

* `E ceiling(E obj)`
* `E floor(E obj)`
* `E higher(E obj)`
* `E lower(E obj)`
* `E pollFirst()`
* `E pollLast()`
* `NavigableSet<E> descendingSet()`
* `NavigableSet<E> headSet(E upperBound, boolean incl)`
* `NavigableSet<E> tailSet(E lowerBound, boolean incl)`
* `NavigableSet<E> subSet(E lowerBound, boolean lowerIncl, E upperBound, boolean highIncl)`

== Class `TreeSet`

=== Methods

* `TreeSet()`
* `TreeSet(Collection<? extends E> col)`
* `TreeSet(SortedSet <E> set)`
* `TreeSet(Comparator<? super E> comparator)`

=== Example

[source,java]
----
import java.util.Iterator;
import java.util.TreeSet;

class TreeSetExample {
    public static void main(String args[]) {
        TreeSet<String> al = new TreeSet<String>();
        al.add("Ravi");
        al.add("Vijay");
        al.add("Ravi");
        al.add("Ajay");
        Iterator<String> itr = al.iterator();
        while (itr.hasNext()) {
            System.out.println(itr.next());
        }
    }
}  
----

== Functional Interface 'Comparable'

=== Method

* `public int compareTo(Object obj)`

=== Example

[source,java]
----
class Student implements Comparable<Student> {
    private int id;
    private String name;
    private int age;

    public Student(int id, String name, int age) {
        this.id = id;
        this.name = name;
        this.age = age;
    }

    public int compareTo(Student st) {
        if (this.age == st.age) {
            return 0;
        } else if (this.age > st.age) {
            return 1;
        } else {
            return -1;
        }
    }
}
----

=== Example

[source,java]
----
import java.util.ArrayList;
import java.util.Collections;

public class CompareExample {
    public static void main(String args[]) {
        ArrayList<Student> students = new ArrayList<Student>();
        students.add(new Student(101, "Vijay", 23));
        students.add(new Student(106, "Ajay", 27));
        students.add(new Student(105, "Jai", 21));

        Collections.sort(students);
        for (Student student : students) {
            System.out.println(student.rollno + " " + student.name + " " + student.age);
        }
    }
}
----

== Functional Interface `Comparator`

=== Method

* `public int compare(Object obj1,Object obj2)`

=== Example

[source,java]
----
class Student {
    private int id;
    private String name;
    private int age;

    public Student(int id, String name, int age) {
        this.id = id;
        this.name = name;
        this.age = age;
    }

    public int getId() {
        return this.id;
    }

    public String getName() {
        return this.name;
    }

    public int getAge() {
        return this.age;
    }
}
----

=== Example

[source,java]
----
import java.util.Comparator;

class AgeComparator implements Comparator {
    public int compare(Object o1, Object o2) {
        Student s1 = (Student) o1;
        Student s2 = (Student) o2;

        if (s1.getAge() == s2.getAge()) {
            return 0;
        } else if (s1.getAge() > s2.getAge()) {
            return 1;
        } else {
            return -1;
        }
    }
}  
----

=== Example

[source,java]
----
import java.util.Comparator;

class NameComparator implements Comparator {
    public int compare(Object o1, Object o2) {
        Student s1 = (Student) o1;
        Student s2 = (Student) o2;

        return s1.getName().compareTo(s2.getName());
    }
}
----

=== Example

[source,java]
----
import java.util.ArrayList;
import java.util.Collections;
import java.util.Iterator;

class ComparatorExample {
    public static void main(String args[]) {
        ArrayList students = new ArrayList();
        students.add(new Student(101, "Vijay", 23));
        students.add(new Student(106, "Ajay", 27));
        students.add(new Student(105, "Jai", 21));

        System.out.println("Sorting by Name...");

        Collections.sort(students, new NameComparator());
        Iterator itr = students.iterator();
        while (itr.hasNext()) {
            Student student = (Student) itr.next();
            System.out.println(student.getId() + " " + student.getName() + " " + student.getAge());
        }

        System.out.println("sorting by age...");

        Collections.sort(students, new AgeComparator());
        Iterator itr2 = students.iterator();
        while (itr2.hasNext()) {
            Student student = (Student) itr2.next();
            System.out.println(student.getId() + " " + student.getName() + " " + student.getAge());
        }
    }
}  
----

== Interface `Map<K, V>`

=== Methods

* `void clear()`
* `boolean containsKey(Object k)`
* `boolean containsValue(Object v)`
* `Set<Map.Entry<K, V>> entrySet()`
* `boolean equals(Object obj)`
* `boolean isEmpty`
* `V get(Object k)`
* `V getOrDefault(Object k, V defaultValue)`
* `V put(K k, V v)`
* `V putIfAbsent(K k, V v)`
* `Set<K> keySet()`
* `Collection<V> values()`
* `void putAll(Map<? extends K, ? extends V> map)`
* `V remove(Object k)`
* `int size()`

=== Interface `Map.Entry<K, V>`

* `boolean equals(Object obj)`
* `K getKey()`
* `V getValue()`
* `Set<K> keySet()`
* `V setValue(V v)`
* `int hashCode()`

== Class `HashMap`

=== Example

[source,java]
----
import java.util.HashMap;
import java.util.Map;

class HashMapExample {
    public static void main(String args[]) {
        HashMap<Integer, String> humans = new HashMap<Integer, String>();
        humans.put(100, "Amit");
        humans.put(101, "Vijay");
        humans.put(102, "Rahul");
        for (Map.Entry m : humans.entrySet()) {
            System.out.println(m.getKey() + " " + m.getValue());
        }
    }
}
----

== Interface `SortedMap`

=== Methods

* `K firstKey()`
* `K lastKey()`
* `SortedMap<K, V> headMap(K end)`
* `SortedMap<K, V> tailMap(K start)`
* `SortedMap<K, V> subMap(K start, K end)`

== Interface `NavigableMap`

=== Methods

* `Map.Entry<K, V> ceilingEntry(K obj)`
* `Map.Entry<K, V> floorEntry(K obj)`
* `Map.Entry<K, V> higherEntry()`
* `Map.Entry<K, V> lowerEntry()`
* `Map.Entry<K, V> firstEntry()`
* `Map.Entry<K, V> lastEntry()`
* `Map.Entry<K, V> pollFirstEntry()`
* `Map.Entry<K, V> pollLastEntry()`

=== Methods

* `K ceilingKey(K obj)`
* `K floorKey(K obj)`
* `K lowerKey(K obj)`
* `K higherKey(K obj)`
* `NavigableSet<K> descendingKeySet()`
* `NavigableMap<K, V> descendingMap()`
* `NavigableSet<K> navigableKeySet()`
* `NavigableMap<K, V> headMap(K upperBound, boolean incl)`
* `NavigableMap<K, V> tailMap(K lowerBound, boolean incl)`
* `NavigableMap<K, V> subMap(K lowerBound, boolean lowIncl, K upperBound, boolean highIncl)`

== Class `TreeMap`

=== Constructors

* `TreeMap()`
* `TreeMap(Map<K, ? extends V> map)`
* `TreeMap(SortedMap<K, ? extends V> smap)`
* `TreeMap(Comparator<? super K> comparator)`

=== Example

[source,java]
----
import java.util.Map;
import java.util.TreeMap;

class TreeMapExample {
    public static void main(String args[]) {
        TreeMap<Integer, String> humans = new TreeMap<Integer, String>();
        humans.put(100, "Amit");
        humans.put(102, "Ravi");
        humans.put(101, "Vijay");
        humans.put(103, "Rahul");
        for (Map.Entry m : humans.entrySet()) {
            System.out.println(m.getKey() + " " + m.getValue());
        }
    }
} 
----

== Interface `Iterator`

=== Methods

* `E next()`
* `boolean hasNext()`
* `void remove()`

=== Example

[source,java]
----
import java.util.ArrayList;
import java.util.Iterator;

public class IteratorExample {
    public static void main(String[] args) {
        ArrayList<String> states = new ArrayList<String>();
        states.add("Germany");
        states.add("France");
        states.add("Italy");
        states.add("Spain");

        Iterator<String> iter = states.iterator();
        while (iter.hasNext()) {
            System.out.println(iter.next());
        }
    }
}
----

== Interface `ListIterator`

=== Methods

* `void add(E obj)`
* `boolean hasNext()`
* `boolean hasPrevious()`
* `E next()`
* `E previous()`
* `int nextIndex()`
* `int previousIndex()`
* `void remove()`
* `void set(E obj)`

=== Example

[source,java]
----
import java.util.ArrayList;
import java.util.ListIterator;

public class ListIteratorExample {
    public static void main(String[] args) {
        ArrayList<String> states = new ArrayList<String>();
        states.add("Germany");
        states.add("France");
        states.add("Italy");
        states.add("Spain");

        ListIterator<String> listIter = states.listIterator();

        while (listIter.hasNext()) {
            System.out.println(listIter.next());
        }

        listIter.set("Португалия");

        while (listIter.hasPrevious()) {
            System.out.println(listIter.previous());
        }
    }
}
----
